<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fog Admin - Dashboard</title>
    <link href="../public/css/index.css" th:href="@{/css/index.css}" rel="stylesheet"/>
</head>
<body>

<div class="container">
    <header class="main-header">
        <img class="logo-img" src="/images/Fog_logo.png" alt="Fog Logo">
        <a th:href="@{/}" class="admin-action-button">Forside</a>
    </header>

    <div class="content-header">
        <div class="sub-logo">Admin side</div>
    </div>

    <main class="admin-content dashboard">

        <h2 class="page-title admin-title">Alle bestillinger</h2>

        <div class="admin-controls">
            <div class="search-bar">
                <input type="search" id="order-search" name="search" placeholder="Søg i bestillinger...">
                <button type="button" class="btn btn-secondary btn-small">Søg</button>
            </div>
            <div class="filter-bar">
                <label for="status-filter">Filter status:</label>
                <select id="status-filter" name="statusFilter">
                    <option value="all" selected>Alle</option>
                    <option value="pending">Afventende</option>
                    <option value="paid">Betalt</option>
                    <option value="completed">Gennemført</option>
                    <option value="rejected">Afslået</option>
                </select>
                <button type="button" class="btn btn-secondary btn-small">Filter</button>
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                <tr>
                    <th>Navn</th>
                    <th>Adresse</th>
                    <th>Telefon</th>
                    <th>Længde</th>
                    <th>Bredde</th>
                    <th>Trapez</th>
                    <th class="col-status">Status</th>
                    <th>Handlinger</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order : ${orders}">
                    <td th:text="${order.customer.name}"></td>
                    <td th:text="${order.customer.address}"></td>
                    <td th:text="${order.customer.phone}"></td>
                    <td th:text="${order.carportLength}"></td>
                    <td th:text="${order.carportWidth}"></td>
                    <td th:text="${order.trapezeRoof ? 'Ja' : 'Nej'}"></td>
                    <td class="col-status">
                        <select class="input-in-table" th:name="'status_' + ${order.id}" th:attr="data-order-id=${order.id}">
                            <option value="pending" th:selected="${order.status == 'pending'}">Afventende</option>
                            <option value="paid" th:selected="${order.status == 'paid'}">Betalt</option>
                            <option value="completed" th:selected="${order.status == 'completed'}">Gennemført</option>
                            <option value="rejected" th:selected="${order.status == 'rejected'}">Afslået</option>
                        </select>
                    </td>
                    <td class="actions-cell">
                        <button type="button" class="btn-action btn-delete" th:attr="data-order-id=${order.id}">Slet</button>
                        <button type="button" class="btn-action btn-recalculate"
                                th:onclick="'window.location.href=\'/admin/order/' + ${order.id} + '/bom\''">
                            Se/redigere stykliste
                        </button>

                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="button-container dashboard-save">
            <button type="button" class="btn btn-primary save-changes-button">Gem ændringer</button>
            <a th:href="@{/admin/create}" class="btn btn-secondary add-admin-button">Tilføj Admin</a>
        </div>

    </main>
</div>
</body>
</html>
